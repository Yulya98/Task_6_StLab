const SELECTCONVERTTOBIN="convertToBin",SELECTCONVERTTODESC="convertToDesc";export default class BinaryOperations{constructor(t,e,r,l){this.num=t,this.selectValue=e,this.errorElem=r,this.resulElem=l}convertToBin(t){try{if("undefined"==t)throw TypeError("Incorrect date");let e=[],r=1;for(;t>=r;)t>0?e.push(t&r?1:0):e.push(~(t&r?1:0)),r<<=1;return e}catch(t){alert(t.message)}}convertToDec(t){try{if("undefined"==t)throw TypeError("Incorrect date");let e=0,r=1;for(let l of t)e+="1"==l?r:0,r<<=1;let l=[];return l[0]=e,l}catch(t){alert(t.message)}}selectOperation(){if(!ControlValue.checkValue(this.num,this.errorElem,!1))return!1;this.selectValue==SELECTCONVERTTOBIN&&this.outputMas(this.convertToBin(this.num.value)),this.selectValue==SELECTCONVERTTODESC&&this.outputMas(this.convertToDec(this.num.value))}outputMas(t){this.resulElem.value="";for(let e of t)this.resulElem.value+=e}}import ControlValue from"./ControleValueModule.js";const OPERATIONPLUS="plus",OPERATIONMINUS="minus",OPERATIONCOMPOSITION="composition",OPERATIONDIVISION="division",OPERATIONEXPONATION="exponentiation";class Calculator{static selectOperation(t,e,r,l,o,a){if(!ControlValue.checkValue(t,o,!0,e,a))return!1;t=+t.value,e=+e.value,r==OPERATIONPLUS&&Calculator.outputResult(Calculator.add(t,e),l),r==OPERATIONMINUS&&Calculator.outputResult(Calculator.minus(t,e),l),r==OPERATIONCOMPOSITION&&Calculator.outputResult(Calculator.composition(t,e),l),r==OPERATIONDIVISION&&Calculator.outputResult(Calculator.division(t,e),l),r==OPERATIONEXPONATION&&Calculator.outputResult(Calculator.exponentiation(t,e),l)}static checkType(t,e){return"number"==typeof t&&"number"==typeof e}static add(t,e){try{if(!Calculator.checkType(t,e))throw new TypeError("Argument should be number");return t+e}catch(t){alert(t.message)}}static minus(t,e){try{if(!Calculator.checkType(t,e))throw new TypeError("Argument should be number");return t-e}catch(t){alert(t.message)}}static composition(t,e){try{if(!Calculator.checkType(t,e))throw new TypeError("Argument should be number");return t*e}catch(t){alert(t.message)}}static division(t,e){try{if(!Calculator.checkType(t,e))throw new TypeError("Argument should be number");return t/e}catch(t){alert(t.message)}}static exponentiation(t,e){try{if(!Calculator.checkType(t,e))throw new TypeError("Argument should be number");return Math.pow(t,e)}catch(t){alert(t.message)}}static outputResult(t,e){e.value="",e.value=Math.round(1e4*t)/1e4}}export default Calculator;import ControlValue from"./ControleValueBaseTemplate.js";class ControlValue{static checkValue(t,e,r,l,o){if(1==r){if(!t.value.match(/^\d+$/))return e.innerHTML="Incorrect data: ",e.setAttribute("style","display:inline"),l.value.match(/^\d+$/)||(o.innerHTML="Incorrect data: ",o.setAttribute("style","display:inline")),!1;if(e.setAttribute("style","display:none"),!l.value.match(/^\d+$/))return o.innerHTML="Incorrect data",o.setAttribute("style","display:none"),!1;o.setAttribute("style","display:none")}else{if(!t.value.match(/[0-9\s]+/))return e.innerHTML="Incorrect data: ",e.setAttribute("style","display:inline"),!1;e.setAttribute("style","display:none")}return!0}}export default ControlValue;const PARSETOSIMPLESTR="simpleStr",PARSETOSTRMONTH="simpleStrMonthToStr",PARSETODATEOBJECT="simpleStrToDateObject",PARSETODATEOBJECTHYPHENATED="simpleStrToDateObjectHyphenated",FROMNOW="fromNow",MSTODATE="MStoDate",DATETOMS="DateToMS";class DateFormatter{constructor(t,e){this.initialDateElem=t,this.selectValue=e}selectParseTemplate(){this.selectValue==PARSETOSIMPLESTR&&this.outputDate(this.parseFunctionReturnStr(SELECTFORMAT_1,"YY-MM-DD")),this.selectValue==PARSETOSTRMONTH&&this.outputDate(this.parseFunctionReturnStr(SELECTFORMAT_1,SELECTFORMAT_2)),this.selectValue==PARSETODATEOBJECT&&this.outputDate(this.parseFunctionReturnStr(SELECTFORMAT_2,SELECTFORMAT_2)),this.selectValue==PARSETODATEOBJECTHYPHENATED&&this.outputDate(this.parseFunctionReturnStr(SELECTFORMAT_2,SELECTFORMAT_2,SELECTFORMAT_4)),this.selectValue==FROMNOW&&this.outputDate(this.parseFunctionReturnStr(SELECTFORMAT_3,SELECTFORMAT_3)),this.selectValue==MSTODATE&&this.outputDate(this.parseFunctionReturnStr(SELECTFORMAT_6)),this.selectValue==DATETOMS&&this.outputDate(this.parseFunctionReturnStr(SELECTFORMAT_7))}parseFunctionReturnStr(t,e,r){let l,o=[];if(t==SELECTFORMAT_1&&"YY-MM-DD"==e&&void 0===r)return this.initialDateElem.value.replace(/([0-9]{2})([0-9]{2})([0-9]{4})/,"$1-$2-$3");if(t==SELECTFORMAT_1&&e==SELECTFORMAT_2&&void 0===r)return o=this.initialDateElem.value.replace(/([0-9]{2})([0-9]{2})([0-9]{4})/,"$1,$2,$3").split(",").map(t=>+t),(l=new Date(o[2],o[1]-1,o[0])).getDate()+" "+l.toLocaleString("en-us",{month:"long"})+" "+l.getFullYear();if(t==SELECTFORMAT_2&&e==SELECTFORMAT_2&&void 0===r)return o=this.initialDateElem.value.replace(/([0-9]{4})([0-9]{2})([0-9]{2})/,"$1,$2,$3").split(",").map(t=>+t),(l=new Date(o[0],o[1]-1,o[2])).getDate()+" "+l.toLocaleString("en-us",{month:"long"})+" "+l.getFullYear();if(t==SELECTFORMAT_2&&e==SELECTFORMAT_2&&r==SELECTFORMAT_5)return this.initialDateElem.value.replace(/([0-9]{4})([0-9]{2})([0-9]{2})/,"$2-$3-$1");if(t==SELECTFORMAT_3&&e==SELECTFORMAT_3&&void 0===r){o=this.initialDateElem.value.replace(/([0-9]{4})-([0-9]{2})-([0-9]{2})/,"$1,$2,$3").split(",").map(t=>+t);let t=new Date(o[0],o[1]-1,o[2]).getTime(),e=Math.floor(Date.now()-t);return Math.floor(e/864e5/31/12)+" years ago"}return t==SELECTFORMAT_6?l=new Date(+this.initialDateElem.value):t==SELECTFORMAT_7?(o=this.initialDateElem.value.replace(/([0-9]{4})-([0-9]{2})-([0-9]{2})/,"$1,$2,$3").split(",").map(t=>+t),l=new Date(o[0],o[1]-1,o[2]).getTime()):void 0}outputDate(t){this.initialDateElem.value="",this.initialDateElem.value=t}}export default DateFormatter;export default window.onload=function(){document.getElementById("buttonBinary")?(document.getElementById("buttonBinary").onclick=function(){new BinaryOperations(document.getElementById("numToConvert"),document.getElementById("s7").value,document.getElementById("errorNumToConvert"),document.getElementById("resultConvert")).selectOperation()},document.getElementById("sortButton").onclick=function(){new SortMas(document.getElementById("initialMasForSort"),document.getElementById("s2").value,document.getElementById("errorInitialMas"),document.getElementById("resultMasSort")).selectFunctionSort()},document.getElementById("selectOperations").onclick=function(){Calculator.selectOperation(document.getElementById("firstNum"),document.getElementById("secondNum"),document.getElementById("s5").value,document.getElementById("result"),document.getElementById("errorFirstNum"),document.getElementById("errorSecondNum"))},document.getElementById("TextFormatter").onclick=function(){new TextFormatter(document.getElementById("maxRows"),document.getElementById("maxColumns"),document.getElementById("text"),document.getElementById("s6").value,document.getElementById("errorRowsCount"),document.getElementById("errorColumnsCount"),document.getElementById("textResult")).changeTextFormatter()},document.getElementById("buttonDateFormatter").onclick=function(){new DateFormatter(document.getElementById("date"),document.getElementById("s1").value).selectParseTemplate()},document.getElementById("buttonSearchElemMas").onclick=function(){new SearchElemMas(document.getElementById("initialMasForSearch"),document.getElementById("s3").value,document.getElementById("errorInputMasForSearch"),document.getElementById("resultSearchMas")).selectFunctionSearch()}):(document.getElementById("definitionButton").onclick=function(){Singleton.getInstance().definitionFunction(document.getElementById("newFunction").value.split(" "),!0,document.getElementById("s7"))},document.getElementById("buttonResultCustomFunction").onclick=function(){Singleton.getInstance().callFunction(new Array(document.getElementById("s7").value),document.getElementById("firstNum"),document.getElementById("secondNum"),document.getElementById("result"),document.getElementById("errorFirstNum"),document.getElementById("errorSecondNum"))},document.getElementById("buttonResultInitialFunc").onclick=function(){Singleton.getInstance().selectOperation(document.getElementById("firstNum"),document.getElementById("secondNum"),document.getElementById("s5").value,document.getElementById("result"),document.getElementById("errorFirstNum"),document.getElementById("errorSecondNum"))})};import BinaryOperations from"./BinaryOperationModule";import SortMas from"./SortMasModule";import SearchElemMas from"./SearchElemMasModule";import Calculator from"./CalculatorBaseTemplateModule";import TextFormatter from"./TextFormatterModule";import DateFormatter from"./DataFormatterModule";import Singleton from"./CalculatorModule";const SELECTSUMELEM="sumOfElemMasIsMax_O(n)",SELECTSUMELEM_2="sumOfElemMasIsMax_O(n^2)",SELECTSERCELEM="searchMaxMinMediumElemMas",SELECTSEQUANCEMAS="ascendingSequenceMas";class SearchElemMasModule{constructor(t,e,r,l){this.arrElem=t,this.selectValue=e,this.errorElem=r,this.resultElem=l}static getMaxSubSumOn(t){try{if(!Array.isArray(t))throw TypeError("Incorrect type");let e=[],r=0,l=0;for(let e of t)(r+=+e)>l&&(l=r),r<0&&(r=0);return e[0]=l,e}catch(t){alert(t.message)}}static getMaxSubSumSquareOn_2(t){try{if(!Array.isArray(t))throw TypeError("Incorrect type");let e=[],r=0;for(let e=0;e<t.length;e++){let l=0;for(let o=e;o<t.length;o++)(l+=+t[o])>r&&(r=l)}return e[0]=r,e}catch(t){alert(t.message)}}static searchMaxMinMediumElemMas(t){try{if(!Array.isArray(t))throw TypeError("Incorrect type");let e,r,l,o=[];return e=(t=(new SortMas).quickSort(t))[0],r=t[t.length-1],l=t.length%2==0?(t[t.length/2]+t[t.length/2+1])/2:t[(t.length+1)/2],o[0]=e,o[1]=r,o[2]=l,o}catch(t){alert(t.message)}}static searchAscendingSequenceMas(t){try{if(!Array.isArray(t))throw TypeError("Incorrect type");let e,r=[],l=[];for(let r=0;r<t.length;r++){e=0;for(let o=r+1;o<t.length;o++){if(!(t[o-1]<t[o])){l.push(e);break}if(e++,t[o]==t.length-1){l.push(e);break}}}const o=Math.max.apply(null,l),a=l.indexOf(o);for(let e=a,l=0;e<=a+o;e++,l++)r[l]=t[e];return r}catch(t){alert(t.message)}}selectFunctionSearch(){if(!ControlValue.checkValue(this.arrElem,this.errorElem,!1))return!1;let t=this.arrElem.value.split(" ").map(t=>+t),e=[];this.selectValue==SELECTSUMELEM&&(e=SearchElemMasModule.getMaxSubSumOn(t,"Sum"),this.outputMas(e,"Sum")),this.selectValue==SELECTSUMELEM_2&&(e=SearchElemMasModule.getMaxSubSumSquareOn_2(t),this.outputMas(e,"Sum")),this.selectValue==SELECTSERCELEM&&(e=SearchElemMasModule.searchMaxMinMediumElemMas(t),this.outputMas(e,"Min, max, medium")),this.selectValue==SELECTSEQUANCEMAS&&(e=SearchElemMasModule.searchAscendingSequenceMas(t),this.outputMas(e,"Ascending Sequence"))}outputMas(t,e){try{if(!Array.isArray(t))throw TypeError("Incorrect type");this.resultElem.value=e+": ";for(let e of t)this.resultElem.value+=e+" "}catch(t){alert(t.message)}}}export default SearchElemMasModule;import ControlValue from"./ControleValueModule.js";const SELECTQUICKSORT="quickSort",SELECTINSERTSORT="insertSort",SELECTSELECTIONSORT="selectionSort",BUBBLESORT="bubbleSort";class SortMas{constructor(t,e,r,l){this.selectValue=e,this.arr=t,this.errorElem=r,this.resultElem=l}insertionSort(t){try{if(!Array.isArray(t))throw new TypeError("Argument should be array");for(let e=0;e<t.length;e++){let r=t[e],l=e-1;for(;l>=0&&t[l]>r;)t[l+1]=t[l],l--;t[l+1]=r}return t}catch(t){alert(t.message)}}selectionSort(t){try{if(!Array.isArray(t))throw new TypeError("Argument should be array");let e;for(let r=0;r<t.length;r++){let l=r;for(let e=r+1;e<t.length;e++)t[e]<t[l]&&(l=e);l!=r&&(e=t[l],t[l]=t[r],t[r]=e)}return t}catch(t){alert(t.message)}}bubbleSort(t){try{if(!Array.isArray(t))throw new TypeError("Argument should be array");for(let e=0;e<t.length;e++)for(let r=e+1;r<t.length;r++)if(t[e]>t[r]){let l=t[e];t[e]=t[r],t[r]=l}return t}catch(t){alert(t.message)}}quickSort(t){try{if(!Array.isArray(t))throw new TypeError("Argument should be array");if(t.length<=1)return t;let e=t[0],r=[],l=[];for(let o=1;o<t.length;o++)t[o]<e?r.push(t[o]):l.push(t[o]);return this.quickSort(r).concat(e,this.quickSort(l))}catch(t){alert(t.message)}}selectFunctionSort(){if(!ControlValue.checkValue(this.arr,this.errorElem,!1))return!1;let t,e=this.arr.value.split(" ").map(t=>+t);null!=e&&(this.selectValue==SELECTQUICKSORT&&(t=this.quickSort(e)),this.selectValue==SELECTINSERTSORT&&(t=this.insertionSort(e)),this.selectValue==SELECTSELECTIONSORT&&(t=this.selectionSort(e)),this.selectValue==BUBBLESORT&&(t=this.bubbleSort(e)),this.outputSortMas(t))}outputSortMas(t){this.resultElem.value="";for(let e of t)this.resultElem.value+=e+" "}}export default SortMas;import ControlValue from"./ControleValueModule.js";const SELECTTEXTFORMATCHARWRAP="charWrap",SELECTTEXTFORMATWORDWRAP="wordWrap",SELECTTEXTFORMATSENTENCEWRAP="sentenceWrap",WITHOUTWRAP="withoutWrap";class TextFormatter{constructor(t,e,r,l,o,a,n){this.maxRows=t,this.maxColumns=e,this.text=r,this.selectValue=l,this.errorRowsCount=o,this.errorColumnsCount=a,this.textResult=n}changeTextFormatter(){if(!ControlValue.checkValue(this.maxRows,this.errorRowsCount,!0,this.maxColumns,this.errorColumnsCount))return!1;let t;if(this.selectValue==SELECTTEXTFORMATCHARWRAP&&(this.text.value=this.outputText(this.text.value.match(/(\w{1})/g).join("\n"))),this.selectValue==SELECTTEXTFORMATWORDWRAP&&(this.text.value=this.outputText(this.text.value.replace(/\s/g,"\n"))),this.selectValue==SELECTTEXTFORMATSENTENCEWRAP&&(this.text.value=this.outputText(this.text.value.match(/(\w+.)/g).join("\n"))),this.selectValue==WITHOUTWRAP&&this.text.setAttribute("wrap","off"),null!=this.maxRows.value&&""!=this.maxRows.value){let e=[];if((t=this.text.value.split("\n")).length-+this.maxRows.value>0){for(let r=0;r<+this.maxRows.value;r++)e[r]=t[r];t=this.outputText(e.join("\n"))}else t=this.outputText(t.join("\n"))}null!=this.maxColumns.value&&""!=this.maxColumns.value&&this.outputText(t.split(/\n/gm).map(t=>t.substr(0,+this.maxColumns.value)).join("\n"))}outputText(t){try{if("string"!=typeof t)throw TypeError("Incorrect type");return this.textResult.value="",this.textResult.value=t,t}catch(t){alert(t.message)}}}export default TextFormatter;import ControlValue from"./ControleValueModule.js";